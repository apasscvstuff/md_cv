{# Technical Skills Layout - 4-column table format #}
{# This template demonstrates how easily the system can be extended with new layouts #}
<div class="cv-skills-table-container">
    <table class="cv-skills-table cv-skills-4col">
        <thead>
            <tr>
                <th class="cv-skills-header"><strong>Programming</strong></th>
                <th class="cv-skills-header"><strong>Platforms & Tools</strong></th>
                <th class="cv-skills-header"><strong>Domain Expertise</strong></th>
                <th class="cv-skills-header"><strong>Project Management</strong></th>
            </tr>
        </thead>
        <tbody>
            {# Prepare column data for 4-column layout #}
            {% set col1_items = skills.programming_languages or [] %}
            {% set col2_items = skills.core_technologies or [] %}
            {% set col3_items = [] %}
            {% if skills.domain_expertise and skills.domain_expertise.skills %}
                {% set col3_items = skills.domain_expertise.skills %}
                {% if skills.domain_expertise.secondary_skills %}
                    {% set col3_items = col3_items + skills.domain_expertise.secondary_skills %}
                {% endif %}
            {% endif %}
            {% set col4_items = (skills.tools_platforms or []) + (skills.project_management or []) %}
            
            {# Calculate max rows needed #}
            {% set max_items = [col1_items|length, col2_items|length, col3_items|length, col4_items|length] | max %}
            
            {# Generate table rows #}
            {% for i in range(max_items) %}
            <tr class="cv-skills-row">
                <td class="cv-skill-item">
                    {% if i < col1_items|length %}✓ {{ col1_items[i] }}{% endif %}
                </td>
                <td class="cv-skill-item">
                    {% if i < col2_items|length %}✓ {{ col2_items[i] }}{% endif %}
                </td>
                <td class="cv-skill-item">
                    {% if i < col3_items|length %}✓ {{ col3_items[i] }}{% endif %}
                </td>
                <td class="cv-skill-item">
                    {% if i < col4_items|length %}✓ {{ col4_items[i] }}{% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{# Medical Device section if applicable #}
{% if skills.medical_device %}
<div class="cv-skill-category cv-medical-device">
    <p class="cv-skill-category-header">
        <strong>Medical Device Development</strong>: 
        {{ skills.medical_device.skills | join(' • ') }}
    </p>
</div>
{% endif %}

{# CSS Enhancement for 4-column layout #}
<style>
.cv-skills-4col {
    table-layout: fixed;
}

.cv-skills-4col th,
.cv-skills-4col td {
    width: 25%; /* Equal column widths for 4 columns */
}

@media print {
    .cv-skills-4col {
        font-size: 9pt; /* Slightly smaller for print to fit 4 columns */
    }
}

@media screen and (max-width: 768px) {
    .cv-skills-4col {
        font-size: 0.85rem; /* Responsive sizing for mobile */
    }
}
</style>